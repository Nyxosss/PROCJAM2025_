[gd_scene load_steps=7 format=3 uid="uid://2gt27s1w1x17"]

[ext_resource type="Script" uid="uid://draefwoe08fe3" path="res://scenes/room_generation_script.gd" id="1_32rso"]
[ext_resource type="MeshLibrary" uid="uid://baficpor5545n" path="res://room_mesh.tres" id="2_32rso"]
[ext_resource type="Script" uid="uid://b0c8tlw4jtibp" path="res://scenes/dun_mesh.gd" id="3_dye4h"]
[ext_resource type="Script" uid="uid://cow8ijgy0relk" path="res://scenes/player_test.gd" id="4_j1a1d"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_dye4h"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_j1a1d"]

[node name="Node3D" type="Node3D"]
script = ExtResource("1_32rso")
dun_mesh_path = NodePath("DunMesh")
player_path = NodePath("CharacterBody3D")
border_size = 30

[node name="GridMap" type="GridMap" parent="."]
visible = false
mesh_library = ExtResource("2_32rso")
cell_size = Vector3(1, 1, 1)
data = {
"cells": PackedInt32Array(65535, 65535, 0, 65535, 30, 0, 30, 65535, 0, 0, 65535, 0, 0, 30, 0, 30, 0, 0, 65535, 0, 0, 1, 65535, 0, 1, 30, 0, 30, 1, 0, 65535, 1, 0, 2, 65535, 0, 2, 30, 0, 30, 2, 0, 65535, 2, 0, 3, 65535, 0, 3, 30, 0, 30, 3, 0, 65535, 3, 0, 4, 65535, 0, 4, 30, 0, 30, 4, 0, 65535, 4, 0, 5, 65535, 0, 5, 30, 0, 30, 5, 0, 65535, 5, 0, 6, 65535, 0, 6, 30, 0, 30, 6, 0, 65535, 6, 0, 7, 65535, 0, 7, 30, 0, 30, 7, 0, 65535, 7, 0, 8, 65535, 0, 8, 30, 0, 30, 8, 0, 65535, 8, 0, 9, 65535, 0, 9, 30, 0, 30, 9, 0, 65535, 9, 0, 10, 65535, 0, 10, 30, 0, 30, 10, 0, 65535, 10, 0, 11, 65535, 0, 11, 30, 0, 30, 11, 0, 65535, 11, 0, 12, 65535, 0, 12, 30, 0, 30, 12, 0, 65535, 12, 0, 13, 65535, 0, 13, 30, 0, 30, 13, 0, 65535, 13, 0, 14, 65535, 0, 14, 30, 0, 30, 14, 0, 65535, 14, 0, 15, 65535, 0, 15, 30, 0, 30, 15, 0, 65535, 15, 0, 16, 65535, 0, 16, 30, 0, 30, 16, 0, 65535, 16, 0, 17, 65535, 0, 17, 30, 0, 30, 17, 0, 65535, 17, 0, 18, 65535, 0, 18, 30, 0, 30, 18, 0, 65535, 18, 0, 19, 65535, 0, 19, 30, 0, 30, 19, 0, 65535, 19, 0, 20, 65535, 0, 20, 30, 0, 30, 20, 0, 65535, 20, 0, 21, 65535, 0, 21, 30, 0, 30, 21, 0, 65535, 21, 0, 22, 65535, 0, 22, 30, 0, 30, 22, 0, 65535, 22, 0, 23, 65535, 0, 23, 30, 0, 30, 23, 0, 65535, 23, 0, 24, 65535, 0, 24, 30, 0, 30, 24, 0, 65535, 24, 0, 25, 65535, 0, 25, 30, 0, 30, 25, 0, 65535, 25, 0, 26, 65535, 0, 26, 30, 0, 30, 26, 0, 65535, 26, 0, 27, 65535, 0, 27, 30, 0, 30, 27, 0, 65535, 27, 0, 28, 65535, 0, 28, 30, 0, 30, 28, 0, 65535, 28, 0, 29, 65535, 0, 29, 30, 0, 30, 29, 0, 65535, 29, 0, 30, 30, 0, 19, 23, 1, 20, 23, 2, 21, 23, 1, 22, 23, 1, 23, 23, 1, 24, 23, 1, 25, 23, 1, 19, 24, 1, 20, 24, 1, 21, 24, 1, 22, 24, 1, 23, 24, 1, 24, 24, 1, 25, 24, 1, 19, 25, 1, 20, 25, 1, 21, 25, 1, 22, 25, 1, 23, 25, 1, 24, 25, 1, 25, 25, 1, 19, 26, 1, 20, 26, 1, 21, 26, 1, 22, 26, 1, 23, 26, 1, 24, 26, 1, 25, 26, 2, 19, 27, 1, 20, 27, 1, 21, 27, 1, 22, 27, 1, 23, 27, 1, 24, 27, 1, 25, 27, 1, 19, 28, 1, 20, 28, 1, 21, 28, 1, 22, 28, 1, 23, 28, 1, 24, 28, 1, 25, 28, 1, 19, 29, 1, 20, 29, 1, 21, 29, 1, 22, 29, 1, 23, 29, 1, 24, 29, 1, 25, 29, 1, 20, 16, 1, 21, 16, 2, 22, 16, 1, 23, 16, 1, 24, 16, 1, 25, 16, 1, 26, 16, 1, 20, 17, 1, 21, 17, 1, 22, 17, 1, 23, 17, 1, 24, 17, 1, 25, 17, 1, 26, 17, 1, 20, 18, 1, 21, 18, 1, 22, 18, 1, 23, 18, 1, 24, 18, 1, 25, 18, 1, 26, 18, 1, 20, 19, 1, 21, 19, 1, 22, 19, 1, 23, 19, 1, 24, 19, 1, 25, 19, 1, 26, 19, 1, 20, 20, 1, 21, 20, 1, 22, 20, 1, 23, 20, 1, 24, 20, 1, 25, 20, 1, 26, 20, 1, 20, 21, 1, 21, 21, 1, 22, 21, 1, 23, 21, 1, 24, 21, 1, 25, 21, 1, 26, 21, 1, 20, 22, 2, 21, 22, 1, 22, 22, 1, 23, 22, 1, 24, 22, 1, 25, 22, 1, 26, 22, 1, 21, 9, 2, 22, 9, 1, 23, 9, 1, 24, 9, 1, 25, 9, 1, 26, 9, 1, 27, 9, 1, 21, 10, 1, 22, 10, 1, 23, 10, 1, 24, 10, 1, 25, 10, 1, 26, 10, 1, 27, 10, 1, 21, 11, 1, 22, 11, 1, 23, 11, 1, 24, 11, 1, 25, 11, 1, 26, 11, 1, 27, 11, 1, 21, 12, 1, 22, 12, 1, 23, 12, 1, 24, 12, 1, 25, 12, 1, 26, 12, 1, 27, 12, 1, 21, 13, 1, 22, 13, 1, 23, 13, 1, 24, 13, 1, 25, 13, 1, 26, 13, 1, 27, 13, 1, 21, 14, 1, 22, 14, 1, 23, 14, 1, 24, 14, 1, 25, 14, 1, 26, 14, 1, 27, 14, 1, 21, 15, 2, 22, 15, 1, 23, 15, 1, 24, 15, 1, 25, 15, 1, 26, 15, 1, 27, 15, 1, 21, 2, 1, 22, 2, 1, 23, 2, 1, 24, 2, 1, 25, 2, 1, 26, 2, 1, 27, 2, 1, 21, 3, 1, 22, 3, 1, 23, 3, 1, 24, 3, 1, 25, 3, 1, 26, 3, 1, 27, 3, 1, 21, 4, 2, 22, 4, 1, 23, 4, 1, 24, 4, 1, 25, 4, 1, 26, 4, 1, 27, 4, 1, 21, 5, 1, 22, 5, 1, 23, 5, 1, 24, 5, 1, 25, 5, 1, 26, 5, 1, 27, 5, 1, 21, 6, 1, 22, 6, 1, 23, 6, 1, 24, 6, 1, 25, 6, 1, 26, 6, 1, 27, 6, 1, 21, 7, 1, 22, 7, 1, 23, 7, 1, 24, 7, 1, 25, 7, 1, 26, 7, 1, 27, 7, 1, 21, 8, 2, 22, 8, 1, 23, 8, 1, 24, 8, 1, 25, 8, 1, 26, 8, 1, 27, 8, 1, 14, 4, 1, 15, 4, 1, 16, 4, 1, 17, 4, 1, 18, 4, 1, 19, 4, 1, 20, 4, 2, 14, 5, 1, 15, 5, 1, 16, 5, 1, 17, 5, 1, 18, 5, 1, 19, 5, 1, 20, 5, 1, 14, 6, 1, 15, 6, 1, 16, 6, 1, 17, 6, 1, 18, 6, 1, 19, 6, 1, 20, 6, 1, 14, 7, 1, 15, 7, 1, 16, 7, 1, 17, 7, 1, 18, 7, 1, 19, 7, 1, 20, 7, 1, 14, 8, 1, 15, 8, 1, 16, 8, 1, 17, 8, 1, 18, 8, 1, 19, 8, 1, 20, 8, 1, 14, 9, 1, 15, 9, 1, 16, 9, 1, 17, 9, 1, 18, 9, 1, 19, 9, 1, 20, 9, 1, 14, 10, 1, 15, 10, 1, 16, 10, 1, 17, 10, 1, 18, 10, 1, 19, 10, 1, 20, 10, 1)
}
metadata/_editor_floor_ = Vector3(0, 8, 0)

[node name="DunMesh" type="Node3D" parent="."]
script = ExtResource("3_dye4h")
grid_map_path = NodePath("../GridMap")
tile_to_room_id = {
Vector3(25, 0, 23): -999,
Vector3(25, 0, 24): -999,
Vector3(25, 0, 25): -999,
Vector3(25, 0, 26): -999,
Vector3(25, 0, 27): -999,
Vector3(25, 0, 28): -999,
Vector3(25, 0, 29): -999,
Vector3i(14, 0, 4): 5,
Vector3i(14, 0, 5): 5,
Vector3i(14, 0, 6): 5,
Vector3i(14, 0, 7): 5,
Vector3i(14, 0, 8): 5,
Vector3i(14, 0, 9): 5,
Vector3i(14, 0, 10): 5,
Vector3i(15, 0, 4): 5,
Vector3i(15, 0, 5): 5,
Vector3i(15, 0, 6): 5,
Vector3i(15, 0, 7): 5,
Vector3i(15, 0, 8): 5,
Vector3i(15, 0, 9): 5,
Vector3i(15, 0, 10): 5,
Vector3i(16, 0, 4): 5,
Vector3i(16, 0, 5): 5,
Vector3i(16, 0, 6): 5,
Vector3i(16, 0, 7): 5,
Vector3i(16, 0, 8): 5,
Vector3i(16, 0, 9): 5,
Vector3i(16, 0, 10): 5,
Vector3i(17, 0, 4): 5,
Vector3i(17, 0, 5): 5,
Vector3i(17, 0, 6): 5,
Vector3i(17, 0, 7): 5,
Vector3i(17, 0, 8): 5,
Vector3i(17, 0, 9): 5,
Vector3i(17, 0, 10): 5,
Vector3i(18, 0, 4): 5,
Vector3i(18, 0, 5): 5,
Vector3i(18, 0, 6): 5,
Vector3i(18, 0, 7): 5,
Vector3i(18, 0, 8): 5,
Vector3i(18, 0, 9): 5,
Vector3i(18, 0, 10): 5,
Vector3i(19, 0, 4): 5,
Vector3i(19, 0, 5): 5,
Vector3i(19, 0, 6): 5,
Vector3i(19, 0, 7): 5,
Vector3i(19, 0, 8): 5,
Vector3i(19, 0, 9): 5,
Vector3i(19, 0, 10): 5,
Vector3i(19, 0, 23): 1,
Vector3i(19, 0, 24): 1,
Vector3i(19, 0, 25): 1,
Vector3i(19, 0, 26): 1,
Vector3i(19, 0, 27): 1,
Vector3i(19, 0, 28): 1,
Vector3i(19, 0, 29): 1,
Vector3i(20, 0, 4): 5,
Vector3i(20, 0, 5): 5,
Vector3i(20, 0, 6): 5,
Vector3i(20, 0, 7): 5,
Vector3i(20, 0, 8): 5,
Vector3i(20, 0, 9): 5,
Vector3i(20, 0, 10): 5,
Vector3i(20, 0, 16): 2,
Vector3i(20, 0, 17): 2,
Vector3i(20, 0, 18): 2,
Vector3i(20, 0, 19): 2,
Vector3i(20, 0, 20): 2,
Vector3i(20, 0, 21): 2,
Vector3i(20, 0, 22): 2,
Vector3i(20, 0, 23): 1,
Vector3i(20, 0, 24): 1,
Vector3i(20, 0, 25): 1,
Vector3i(20, 0, 26): 1,
Vector3i(20, 0, 27): 1,
Vector3i(20, 0, 28): 1,
Vector3i(20, 0, 29): 1,
Vector3i(21, 0, 2): 4,
Vector3i(21, 0, 3): 4,
Vector3i(21, 0, 4): 4,
Vector3i(21, 0, 5): 4,
Vector3i(21, 0, 6): 4,
Vector3i(21, 0, 7): 4,
Vector3i(21, 0, 8): 4,
Vector3i(21, 0, 9): 3,
Vector3i(21, 0, 10): 3,
Vector3i(21, 0, 11): 3,
Vector3i(21, 0, 12): 3,
Vector3i(21, 0, 13): 3,
Vector3i(21, 0, 14): 3,
Vector3i(21, 0, 15): 3,
Vector3i(21, 0, 16): 2,
Vector3i(21, 0, 17): 2,
Vector3i(21, 0, 18): 2,
Vector3i(21, 0, 19): 2,
Vector3i(21, 0, 20): 2,
Vector3i(21, 0, 21): 2,
Vector3i(21, 0, 22): 2,
Vector3i(21, 0, 23): 1,
Vector3i(21, 0, 24): 1,
Vector3i(21, 0, 25): 1,
Vector3i(21, 0, 26): 1,
Vector3i(21, 0, 27): 1,
Vector3i(21, 0, 28): 1,
Vector3i(21, 0, 29): 1,
Vector3i(22, 0, 2): 4,
Vector3i(22, 0, 3): 4,
Vector3i(22, 0, 4): 4,
Vector3i(22, 0, 5): 4,
Vector3i(22, 0, 6): 4,
Vector3i(22, 0, 7): 4,
Vector3i(22, 0, 8): 4,
Vector3i(22, 0, 9): 3,
Vector3i(22, 0, 10): 3,
Vector3i(22, 0, 11): 3,
Vector3i(22, 0, 12): 3,
Vector3i(22, 0, 13): 3,
Vector3i(22, 0, 14): 3,
Vector3i(22, 0, 15): 3,
Vector3i(22, 0, 16): 2,
Vector3i(22, 0, 17): 2,
Vector3i(22, 0, 18): 2,
Vector3i(22, 0, 19): 2,
Vector3i(22, 0, 20): 2,
Vector3i(22, 0, 21): 2,
Vector3i(22, 0, 22): 2,
Vector3i(22, 0, 23): 1,
Vector3i(22, 0, 24): 1,
Vector3i(22, 0, 25): 1,
Vector3i(22, 0, 26): 1,
Vector3i(22, 0, 27): 1,
Vector3i(22, 0, 28): 1,
Vector3i(22, 0, 29): 1,
Vector3i(23, 0, 2): 4,
Vector3i(23, 0, 3): 4,
Vector3i(23, 0, 4): 4,
Vector3i(23, 0, 5): 4,
Vector3i(23, 0, 6): 4,
Vector3i(23, 0, 7): 4,
Vector3i(23, 0, 8): 4,
Vector3i(23, 0, 9): 3,
Vector3i(23, 0, 10): 3,
Vector3i(23, 0, 11): 3,
Vector3i(23, 0, 12): 3,
Vector3i(23, 0, 13): 3,
Vector3i(23, 0, 14): 3,
Vector3i(23, 0, 15): 3,
Vector3i(23, 0, 16): 2,
Vector3i(23, 0, 17): 2,
Vector3i(23, 0, 18): 2,
Vector3i(23, 0, 19): 2,
Vector3i(23, 0, 20): 2,
Vector3i(23, 0, 21): 2,
Vector3i(23, 0, 22): 2,
Vector3i(23, 0, 23): 1,
Vector3i(23, 0, 24): 1,
Vector3i(23, 0, 25): 1,
Vector3i(23, 0, 26): 1,
Vector3i(23, 0, 27): 1,
Vector3i(23, 0, 28): 1,
Vector3i(23, 0, 29): 1,
Vector3i(24, 0, 2): 4,
Vector3i(24, 0, 3): 4,
Vector3i(24, 0, 4): 4,
Vector3i(24, 0, 5): 4,
Vector3i(24, 0, 6): 4,
Vector3i(24, 0, 7): 4,
Vector3i(24, 0, 8): 4,
Vector3i(24, 0, 9): 3,
Vector3i(24, 0, 10): 3,
Vector3i(24, 0, 11): 3,
Vector3i(24, 0, 12): 3,
Vector3i(24, 0, 13): 3,
Vector3i(24, 0, 14): 3,
Vector3i(24, 0, 15): 3,
Vector3i(24, 0, 16): 2,
Vector3i(24, 0, 17): 2,
Vector3i(24, 0, 18): 2,
Vector3i(24, 0, 19): 2,
Vector3i(24, 0, 20): 2,
Vector3i(24, 0, 21): 2,
Vector3i(24, 0, 22): 2,
Vector3i(24, 0, 23): 1,
Vector3i(24, 0, 24): 1,
Vector3i(24, 0, 25): 1,
Vector3i(24, 0, 26): 1,
Vector3i(24, 0, 27): 1,
Vector3i(24, 0, 28): 1,
Vector3i(24, 0, 29): 1,
Vector3i(25, 0, 2): 4,
Vector3i(25, 0, 3): 4,
Vector3i(25, 0, 4): 4,
Vector3i(25, 0, 5): 4,
Vector3i(25, 0, 6): 4,
Vector3i(25, 0, 7): 4,
Vector3i(25, 0, 8): 4,
Vector3i(25, 0, 9): 3,
Vector3i(25, 0, 10): 3,
Vector3i(25, 0, 11): 3,
Vector3i(25, 0, 12): 3,
Vector3i(25, 0, 13): 3,
Vector3i(25, 0, 14): 3,
Vector3i(25, 0, 15): 3,
Vector3i(25, 0, 16): 2,
Vector3i(25, 0, 17): 2,
Vector3i(25, 0, 18): 2,
Vector3i(25, 0, 19): 2,
Vector3i(25, 0, 20): 2,
Vector3i(25, 0, 21): 2,
Vector3i(25, 0, 22): 2,
Vector3i(25, 0, 23): 1,
Vector3i(25, 0, 24): 1,
Vector3i(25, 0, 25): 1,
Vector3i(25, 0, 26): 1,
Vector3i(25, 0, 27): 1,
Vector3i(25, 0, 28): 1,
Vector3i(25, 0, 29): 1,
Vector3i(26, 0, 2): 4,
Vector3i(26, 0, 3): 4,
Vector3i(26, 0, 4): 4,
Vector3i(26, 0, 5): 4,
Vector3i(26, 0, 6): 4,
Vector3i(26, 0, 7): 4,
Vector3i(26, 0, 8): 4,
Vector3i(26, 0, 9): 3,
Vector3i(26, 0, 10): 3,
Vector3i(26, 0, 11): 3,
Vector3i(26, 0, 12): 3,
Vector3i(26, 0, 13): 3,
Vector3i(26, 0, 14): 3,
Vector3i(26, 0, 15): 3,
Vector3i(26, 0, 16): 2,
Vector3i(26, 0, 17): 2,
Vector3i(26, 0, 18): 2,
Vector3i(26, 0, 19): 2,
Vector3i(26, 0, 20): 2,
Vector3i(26, 0, 21): 2,
Vector3i(26, 0, 22): 2,
Vector3i(27, 0, 2): 4,
Vector3i(27, 0, 3): 4,
Vector3i(27, 0, 4): 4,
Vector3i(27, 0, 5): 4,
Vector3i(27, 0, 6): 4,
Vector3i(27, 0, 7): 4,
Vector3i(27, 0, 8): 4,
Vector3i(27, 0, 9): 3,
Vector3i(27, 0, 10): 3,
Vector3i(27, 0, 11): 3,
Vector3i(27, 0, 12): 3,
Vector3i(27, 0, 13): 3,
Vector3i(27, 0, 14): 3,
Vector3i(27, 0, 15): 3
}
tile_to_door_id = {
Vector3i(20, 0, 4): 4,
Vector3i(20, 0, 22): 1,
Vector3i(20, 0, 23): 1,
Vector3i(21, 0, 4): 4,
Vector3i(21, 0, 8): 3,
Vector3i(21, 0, 9): 3,
Vector3i(21, 0, 15): 2,
Vector3i(21, 0, 16): 2,
Vector3i(25, 0, 26): 5
}

[node name="CharacterBody3D" type="CharacterBody3D" parent="."]
transform = Transform3D(0.7, 0, 0, 0, 0.7, 0, 0, 0, 0.7, 22.5, 1.5, 26.5)
script = ExtResource("4_j1a1d")

[node name="CollisionShape3D" type="CollisionShape3D" parent="CharacterBody3D"]
shape = SubResource("CapsuleShape3D_dye4h")

[node name="MeshInstance3D" type="MeshInstance3D" parent="CharacterBody3D"]
mesh = SubResource("CapsuleMesh_j1a1d")

[node name="CameraPivot" type="Node3D" parent="CharacterBody3D"]

[node name="Camera3D" type="Camera3D" parent="CharacterBody3D/CameraPivot"]

[node name="RayCast3D" type="RayCast3D" parent="CharacterBody3D/CameraPivot/Camera3D"]
target_position = Vector3(0, -2, 0)
collide_with_areas = true
debug_shape_thickness = 1
